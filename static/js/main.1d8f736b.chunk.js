(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{72:function(e,t,n){},74:function(e,t,n){},75:function(e,t,n){},76:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},82:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/alert.439ffe7a.wav"},84:function(e,t,n){"use strict";n.r(t);var c,s=n(1),a=n.n(s),r=n(34),i=n.n(r),o=n(36),u=n(2),l=n(35),j=(n(72),n.p+"static/media/close.dc95cfa2.svg"),m=n(0),d=function(e){var t=e.show,n=e.message,a=e.timeout,r=void 0===a?2500:a,i=e.onChange;return Object(s.useEffect)((function(){t&&(clearTimeout(c),c=setTimeout((function(){i&&i(!1)}),r))}),[t,r,i]),Object(m.jsxs)("div",{className:"alert alert--".concat(t?"active":"inactive"),children:[Object(m.jsx)("div",{className:"alert__message",children:n}),Object(m.jsx)("div",{className:"alert__icon",onClick:function(){return i&&i(!1)},children:Object(m.jsx)("img",{className:"close__icon",src:j,alt:"close"})})]})},b=(n(74),function(e){var t=e.users;return Object(m.jsxs)("div",{className:"users__wrapper",children:[Object(m.jsx)("div",{className:"users__heading",children:"Users"}),t.map((function(e){var t=e.id,n=e.name;return Object(m.jsxs)("div",{className:"user__wrapper",children:[Object(m.jsx)(f,{altBg:!0,name:n}),Object(m.jsx)("div",{title:n,className:"user__name",children:n})]},t)}))]})}),f=(n(75),function(e){var t=e.name,n=e.altBg,c=void 0!==n&&n;return Object(m.jsx)("div",{title:t,className:"avatar ".concat(c?"avatar--bg":"").trim(),children:function(){var e="";if(t){var n=t[0],c=t[1];n&&(e+=n),c&&(e+=c)}return e.toUpperCase()}()})}),h=(n(76),function(e){var t=e.children,n=e.block,c=void 0!==n&&n,s=e.onClick;return Object(m.jsx)("button",{onClick:function(e){return s&&s(e)},className:"button ".concat(c?"button--block":"").trim(),children:t})}),O=(n(77),function(e){var t=e.name,n=e.text,c=e.timestamp,s=e.user,a=function(){return s.toLowerCase()===t.toLowerCase()};return Object(m.jsx)("div",{className:"message__wrapper ".concat(a()?"message__wrapper--right":"").trim(),children:"bot"===s?Object(m.jsx)("div",{className:"message__bot",children:n}):Object(m.jsxs)(m.Fragment,{children:[!a()&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(f,{name:s}),Object(m.jsx)("div",{style:{width:"8px"}})]}),Object(m.jsxs)("div",{className:"message__container ".concat(a()?"message__container--right":"").trim(),children:[Object(m.jsx)("div",{className:"message__text",children:n}),Object(m.jsx)("div",{className:"message__timestamp ".concat(a()?"message__timestamp--right":"").trim(),children:function(){var e=new Date(c),t=function(e){return"".concat(e<10?"0":"").concat(e)};return"".concat(t(e.getHours()),":").concat(t(e.getMinutes()))}()})]}),a()&&Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{style:{width:"8px"}}),Object(m.jsx)(f,{name:s})]})]})})}),v=(n(78),function(e){var t=e.className,n=void 0===t?"":t,c=e.type,s=e.value,a=e.placeholder,r=e.icon,i=void 0!==r&&r,o=e.onIconClick,u=e.onKeyPress,l=e.onChange,j=function(e,t){e&&e(t)};return Object(m.jsxs)("div",{className:"input__wrapper ".concat(n).trim(),children:[Object(m.jsx)("input",{type:c,value:s,placeholder:a,onKeyPress:function(e){return j(u,e.key)},onChange:function(e){var t=e.target.value;return j(l,t)},className:"input ".concat(i?"input--shrunk":"").trim()}),i&&Object(m.jsx)("div",{className:"input__send",onClick:function(e){return j(o,e)},children:Object(m.jsx)("img",{className:"send_icon",src:i,alt:"send"})})]})}),g=(n(79),n.p+"static/media/send.623ea14f.svg"),p=n.p+"static/media/send-dark.2eaae009.svg",x=function(e){var t=e.name,n=e.dark,c=e.onSend,a=e.message,r=e.messages,i=e.setMessage,o=Object(s.useRef)(null);return Object(s.useLayoutEffect)((function(){if(o.current){var e=o.current;e.scrollTop=e.scrollHeight}}),[r]),Object(m.jsxs)("div",{className:"messages__wrapper",children:[Object(m.jsx)("div",{ref:o,className:"messages__container",children:r.map((function(e,n){var c=e.text,s=e.timestamp,a=e.user;return Object(m.jsx)(O,{user:a,text:c,name:t,timestamp:s},n)}))}),Object(m.jsx)(v,{value:a,onIconClick:function(){return c()},placeholder:"Type a message here...",icon:n?p:g,onChange:function(e){return i(e)},onKeyPress:function(e){return"Enter"===e?c():null}})]})},_=(n(80),n.p+"static/media/sun.81a752cc.svg"),N=n.p+"static/media/moon.84c0949c.svg",y=function(e){var t=e.dark,n=e.name,c=e.room,s=e.users,a=e.message,r=e.messages,i=e.setMessage,o=e.onTheme,u=e.onSend;return Object(m.jsx)("div",{className:"chat__wrapper",children:Object(m.jsxs)("div",{className:"chat__container",children:[Object(m.jsxs)("div",{className:"chat__header",children:[Object(m.jsx)("div",{title:c,className:"chat__name",children:c}),Object(m.jsxs)("div",{className:"chat__actions",children:[Object(m.jsx)("div",{className:"chat__theme",onClick:function(){return o&&o(!t)},children:Object(m.jsx)("img",{src:t?_:N,alt:"theme"})}),Object(m.jsx)(h,{onClick:function(){return window.location.reload()},children:"LEAVE"})]})]}),Object(m.jsxs)("div",{className:"chat__body",children:[Object(m.jsx)("div",{className:"chat__users",children:Object(m.jsx)(b,{users:s})}),Object(m.jsx)("div",{className:"chat__messages",children:Object(m.jsx)(x,{dark:t,name:n,onSend:u,message:a,messages:r,setMessage:i})})]})]})})},k=(n(81),function(e){var t=e.onJoin,n=Object(s.useState)(""),c=Object(u.a)(n,2),a=c[0],r=c[1],i=Object(s.useState)(""),o=Object(u.a)(i,2),l=o[0],j=o[1];return Object(m.jsx)("div",{className:"join__wrapper",children:Object(m.jsxs)("div",{className:"join__container",children:[Object(m.jsx)(v,{type:"text",placeholder:"Name",onChange:function(e){return r(e)}}),Object(m.jsx)("div",{style:{height:"24px"}}),Object(m.jsx)(v,{type:"text",placeholder:"Room",onChange:function(e){return j(e)}}),Object(m.jsx)("div",{style:{height:"36px"}}),Object(m.jsx)(h,{block:!0,onClick:function(){return t&&t({name:a,room:l})},children:"JOIN"})]})})}),w={"--text-color-primary":"rgba(0, 0, 0, 0.86)","--text-color-secondary":"rgba(0, 0, 0, 0.7)","--text-color-disabled":"rgba(0, 0, 0, 0.56)","--primary-bg":"#f3f6ff","--primary":"#2255be","--white":"#ffffff","--black":"#222222"},C={"--text-color-primary":"rgba(255, 255, 255, 1)","--text-color-secondary":"rgba(255, 255, 255, 0.8)","--text-color-disabled":"rgba(255, 255, 255, 0.56)","--primary-bg":"#292929","--primary":"#2255be","--white":"#3d3d3d","--black":"#000000"},S=function(e){var t=document.querySelector(":root"),n=Object.keys(e);t&&e&&n.forEach((function(n){var c,s,a,r=e[n];r&&n.startsWith("--")&&(s=n,a=r,(c=t)&&a&&c.style.setProperty(s,String(a)))}))},M=(n(82),n(83)),E=new Audio(M.default),T=Object(l.io)("https://spanion-chat.herokuapp.com",{transports:["websocket"]}),F=function(){var e=Object(s.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(u.a)(a,2),i=r[0],l=r[1],j=Object(s.useState)([]),b=Object(u.a)(j,2),f=b[0],h=b[1],O=Object(s.useState)(""),v=Object(u.a)(O,2),g=v[0],p=v[1],x=Object(s.useState)([]),_=Object(u.a)(x,2),N=_[0],M=_[1],F=Object(s.useState)(!1),I=Object(u.a)(F,2),L=I[0],P=I[1],D=Object(s.useState)(!1),J=Object(u.a)(D,2),B=J[0],K=J[1],A=Object(s.useState)(!1),H=Object(u.a)(A,2),R=H[0],U=H[1],q=Object(s.useState)(""),V=Object(u.a)(q,2),W=V[0],z=V[1];Object(s.useLayoutEffect)((function(){T.on("message",(function(e){"bot"!==e.user&&E.play(),M((function(t){return[].concat(Object(o.a)(t),[e])}))})),T.on("roomData",(function(e){var t=e.message,n=e.users;h(n),t&&(z(t),U(!0))})),T.on("leave",(function(e){var t=e.error,n=e.devMessage;console.error({error:t,devMessage:n}),G()})),Q("true"===localStorage.getItem("dark"))}),[]);var G=function(){z(""),U(!1),K(!1),M([]),p(""),h([]),c(""),l("")},Q=function(e){localStorage.setItem("dark",String(e)),console.trace(e),P(e),S(e?C:w)};return Object(m.jsxs)("div",{className:"app",children:[Object(m.jsx)(d,{show:R,message:W,onChange:function(e){return U(e)}}),B?Object(m.jsx)(y,{dark:L,name:n,room:i,users:f,message:g,messages:N,onSend:function(e){if(e&&e.preventDefault(),g){var t=(new Date).valueOf();T.emit("sendMessage",{message:g,timestamp:t},(function(){return p("")}))}},onTheme:Q,setMessage:p}):Object(m.jsx)(k,{onJoin:function(e){var t=e.name,n=e.room;c(t),l(n),T.emit("join",{name:t,room:n},(function(e){if(e)return z(e),void U(!0);K(!0)}))}})]})},I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,85)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(F,{})}),document.getElementById("root")),I()}},[[84,1,2]]]);
//# sourceMappingURL=main.1d8f736b.chunk.js.map